操作系统进程状态，需要多少个进程状态呢？

- 从CPU的视角来看，它只需要“运行态”、“就绪态”、“阻塞态”就够了：
  - 运行态：当前占据CPU正在执行指令的进程；
  - 就绪态：依赖的资源都已经就绪，只等着CPU前来调度的进程；
  - 阻塞态：因为执行慢速IO而引起进程暂时让出CPU控制权、暂停执行的进程；
- 从虚拟内存的角度来看，由于涉及到进程依赖的内存映像在物理内存、磁盘交换区之间的换入换出操作，还需要增加两个状态来辅助确认进程状态：
  - 挂起-阻塞态：因为执行IO的进程处于阻塞状态，假如进程被OS换出到交换区，此时就将进程状态扭转为“挂起-阻塞态”，当进程映像被换入物理内存时会将其修改为“阻塞态”，然后等待IO事件完成。
    - 如果IO事件完成了，会将其修改为“挂起-就绪态”，等待换入物理内存中就可以变为“就绪态”；
    - 如果挂起进程被换入物理内存了，挂起进程状态修改为“阻塞态”继续等待IO事件完成；
  - 挂起-就绪态：就绪态的进程有可能临时没执行进程映像被换出到磁盘交换区了，这种进程状态会被修改为“挂起-就绪态”，或者是处于“挂起-阻塞态”的进程IO事件就绪了，也会被修改为“挂起-就绪态”。
    - 如果进程被重新换入内存，会将其修改为“就绪态”；

以下是现代操作系统进程状态转换的一个示意图，可以参考下：

![image-20190705013734523](assets/image-20190705013734523.png)



这里简单总结了下操作系统CPU、虚拟内存视角下进程状态转换的过程，以及添加的几个必要状态的原因。